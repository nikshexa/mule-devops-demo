<?xml version="1.0" encoding="UTF-8"?>

<mule xmlns:ee="http://www.mulesoft.org/schema/mule/ee/core" xmlns:http="http://www.mulesoft.org/schema/mule/http"
	xmlns="http://www.mulesoft.org/schema/mule/core"
	xmlns:doc="http://www.mulesoft.org/schema/mule/documentation" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.mulesoft.org/schema/mule/core http://www.mulesoft.org/schema/mule/core/current/mule.xsd
http://www.mulesoft.org/schema/mule/http http://www.mulesoft.org/schema/mule/http/current/mule-http.xsd
http://www.mulesoft.org/schema/mule/ee/core http://www.mulesoft.org/schema/mule/ee/core/current/mule-ee.xsd">
	<http:listener-config name="HTTP_Listener_config" doc:name="HTTP Listener config" doc:id="03386e68-90ab-46b2-95a9-2aceb9482071" basePath="hello-mule-api" >
		<http:listener-connection host="0.0.0.0" port="8081" />
	</http:listener-config>
	<configuration-properties doc:name="Configuration properties" doc:id="85c6108a-8bc7-4f71-80a6-0752b480dcf2" file="properties\config-common.yaml" doc:description="commonConfigurationProperties"/>
	<configuration-properties doc:name="Configuration properties" doc:id="0400fae5-6f8d-430d-9164-517d156fe8d3" file="properties\config-${env}.yaml" doc:description="envConfigurationProperties"/>
	<global-property doc:name="Global Property" doc:id="86cd8f14-f265-4bd4-809b-c9afdcdf603f" name="env" value="CLDEV" />
	<flow name="hello-mule-apiFlow" doc:id="30ec9c3d-87aa-4a8f-a46f-ca6c2776bbb2" >
		<http:listener doc:name="Listener" doc:id="c9222e91-1e42-4899-857e-8d916200d5ba" config-ref="HTTP_Listener_config" path="hello-mule" allowedMethods="GET"/>
		<logger level="INFO" doc:name="Logger" doc:id="58442424-3626-47e7-9edc-baad77d0cdbd" message="Mule Azure DevOps Demo Started. updated munit dir"/>
		<ee:transform doc:name="Transform Message" doc:id="5796d8ea-e809-4b13-9fa9-4e130ff026ec" >
			<ee:message >
				<ee:set-payload ><![CDATA[%dw 2.0
output application/json
---
{
	"message": "Welcome to Mulesoft Devops demo " ++ (attributes.queryParams.firstName as String ++ " " ++ attributes.queryParams.lastName as String)
	}]]></ee:set-payload>
			</ee:message>
		</ee:transform>
		<logger level="INFO" doc:name="Logger" doc:id="cecb63ed-6067-4c77-a1d8-3dbb28edc089" message="Mule DevOps Demo completed"/>
	</flow>
</mule>
